{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport * as React from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { useFonts, Kanit_200ExtraLight, Kanit_400Regular, Kanit_700Bold } from '@expo-google-fonts/kanit';\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport Ionicons from '@expo/vector-icons/Ionicons';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar colors = {\n  \"gray\": \"#201f1d\",\n  \"darkGray\": \"#161614\",\n  \"lightGray\": '#868686',\n  \"yellow\": '#c4a000',\n  \"white\": '#ffffff'\n};\nfunction TextOS(props) {\n  var texto = props.texto,\n    style = props.style;\n  return _jsx(Text, {\n    style: _objectSpread(_objectSpread({}, style), {}, {\n      color: '#ffffff',\n      fontFamily: 'Kanit_400Regular'\n    }),\n    children: texto\n  });\n}\nvar storeData = function () {\n  var _ref = _asyncToGenerator(function* (value) {\n    try {\n      var jsonValue = JSON.stringify(value);\n      yield AsyncStorage.setItem('@uinfo', jsonValue);\n    } catch (e) {\n      console.log(e);\n    }\n  });\n  return function storeData(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\nvar getData = function () {\n  var _ref2 = _asyncToGenerator(function* () {\n    try {\n      var jsonValue = yield AsyncStorage.getItem('@uinfo');\n      return jsonValue != null ? JSON.parse(jsonValue) : null;\n    } catch (e) {\n      console.log(e);\n    }\n  });\n  return function getData() {\n    return _ref2.apply(this, arguments);\n  };\n}();\nvar clearData = function () {\n  var _ref3 = _asyncToGenerator(function* () {\n    try {\n      var response = yield AsyncStorage.removeItem('@uinfo');\n      return response;\n    } catch (e) {\n      console.log(e);\n    }\n  });\n  return function clearData() {\n    return _ref3.apply(this, arguments);\n  };\n}();\nexport default function HomeScreen(_ref4) {\n  var navigation = _ref4.navigation;\n  getData().then(function (info) {\n    console.log(info);\n    if (info !== null) {\n      var options = {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: info.token\n        }\n      };\n      fetch(\"http://localhost:3000/offside/validate/\" + info.uid, options).then(function (response) {\n        return response.json();\n      }).then(function (response) {\n        if (!response.validation) {\n          clearData().then(function () {\n            navigation.reset({\n              index: 0,\n              routes: [{\n                name: 'Login'\n              }]\n            });\n          });\n        }\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    } else {\n      clearData().then(function () {\n        return navigation.reset({\n          index: 0,\n          routes: [{\n            name: 'Login'\n          }]\n        });\n      });\n    }\n  });\n  var _useFonts = useFonts({\n      Kanit_400Regular: Kanit_400Regular,\n      Kanit_200ExtraLight: Kanit_200ExtraLight,\n      Kanit_700Bold: Kanit_700Bold\n    }),\n    _useFonts2 = _slicedToArray(_useFonts, 1),\n    fontsLoaded = _useFonts2[0];\n  if (!fontsLoaded) {\n    return null;\n  }\n  var logar = function logar() {\n    if (username.length > 0 && password.length > 0) {\n      var options = {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: \"{\\\"nome\\\":\\\"\" + username + \"\\\",\\\"senha\\\":\\\"\" + password + \"\\\"}\"\n      };\n      fetch('http://localhost:3000/offside/usuarios/validar', options).then(function (response) {\n        return response.json();\n      }).then(function (response) {\n        if (response.validation) {\n          storeData(response).then(getData().then(function (val) {\n            return console.log(val);\n          }));\n        } else {\n          setErrOn(true);\n        }\n      }).catch(function (err) {\n        return console.error(err);\n      });\n    }\n  };\n  return _jsx(View, {\n    style: styles.container,\n    children: _jsx(View, {\n      style: {\n        width: '100%'\n      },\n      children: _jsxs(TouchableOpacity, {\n        children: [_jsx(Ionicons, {\n          name: \"md-checkmark-circle\",\n          size: 32,\n          color: colors.darkGray\n        }), _jsx(Text, {\n          children: \"Filtrar\"\n        })]\n      })\n    })\n  });\n}\nvar styles = StyleSheet.create({\n  'container': {\n    flex: 1,\n    alignItems: 'center',\n    backgroundColor: colors.gray,\n    padding: 50\n  },\n  'login': {\n    display: 'flex',\n    alignContent: 'center',\n    backgroundColor: colors.darkGray,\n    width: '100%',\n    padding: 25\n  },\n  'input': {\n    padding: 10,\n    color: '#ffffff',\n    width: '100%',\n    borderColor: colors.white,\n    borderWidth: 1,\n    borderStyle: 'solid',\n    marginBottom: 10,\n    fontFamily: 'Kanit_400Regular'\n  },\n  'cta': {\n    padding: 10,\n    width: \"100%\",\n    display: 'flex',\n    justifyContent: 'center',\n    alignContent: 'center',\n    borderColor: colors.white,\n    borderWidth: 1,\n    marginTop: 25\n  },\n  'white': {\n    color: '#ffffff'\n  },\n  'font': {\n    fontFamily: 'Kanit_400Regular'\n  }\n});","map":{"version":3,"names":["React","useFonts","Kanit_200ExtraLight","Kanit_400Regular","Kanit_700Bold","AsyncStorage","Ionicons","colors","TextOS","props","texto","style","color","fontFamily","storeData","value","jsonValue","JSON","stringify","setItem","e","console","log","getData","getItem","parse","clearData","response","removeItem","HomeScreen","navigation","then","info","options","method","headers","Authorization","token","fetch","uid","json","validation","reset","index","routes","name","catch","err","fontsLoaded","logar","username","length","password","body","val","setErrOn","error","styles","container","width","darkGray","StyleSheet","create","flex","alignItems","backgroundColor","gray","padding","display","alignContent","borderColor","white","borderWidth","borderStyle","marginBottom","justifyContent","marginTop"],"sources":["C:/Users/usuario/Documents/SENAI2022/forum/mobile/offside/pages/Home/index.js"],"sourcesContent":["import * as React from 'react';\r\nimport { View, Text, StyleSheet, TouchableOpacity } from 'react-native';\r\nimport { useFonts, Kanit_200ExtraLight, Kanit_400Regular, Kanit_700Bold} from '@expo-google-fonts/kanit';\r\nimport { TextInput } from 'react-native-web';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\nimport Ionicons from '@expo/vector-icons/Ionicons';\r\n\r\nconst colors = {\r\n    \"gray\": \"#201f1d\",\r\n    \"darkGray\": \"#161614\",\r\n    \"lightGray\": '#868686',\r\n    \"yellow\": '#c4a000',\r\n    \"white\": '#ffffff'\r\n}\r\n\r\nfunction TextOS(props) {\r\n    const { texto, style } = props\r\n    return(\r\n        <Text style={{...style, color: '#ffffff', fontFamily: 'Kanit_400Regular'}}>{texto}</Text>\r\n    )\r\n}\r\n\r\nconst storeData = async (value) => {\r\n  try {\r\n    const jsonValue = JSON.stringify(value)\r\n    await AsyncStorage.setItem('@uinfo', jsonValue)\r\n  } catch (e) {\r\n    console.log(e);\r\n  }\r\n}\r\n\r\nconst getData = async () => {\r\n  try {\r\n    const jsonValue = await AsyncStorage.getItem('@uinfo')\r\n    return jsonValue != null ? JSON.parse(jsonValue) : null;\r\n  } catch(e) {\r\n    console.log(e);\r\n  }\r\n}\r\n\r\nconst clearData = async () => {\r\n    try {\r\n      let response = await AsyncStorage.removeItem('@uinfo')\r\n      return response\r\n    } catch(e) {\r\n      console.log(e);\r\n    }\r\n  }\r\n\r\nexport default function HomeScreen({navigation}) {\r\n    getData().then((info) => {\r\n        console.log(info);\r\n        if (info !== null) {\r\n            const options = {\r\n                method: 'GET',\r\n                headers: {\r\n                'Content-Type': 'application/json',\r\n                Authorization: info.token\r\n                }\r\n            }\r\n            fetch(\"http://localhost:3000/offside/validate/\" + info.uid, options)\r\n            .then(response => response.json())\r\n            .then(response => {\r\n                if(!response.validation){\r\n                    clearData().then(() => {\r\n                        navigation.reset({\r\n                            index: 0,\r\n                            routes: [{name: 'Login'}],\r\n                          });\r\n                    })\r\n                }\r\n            })\r\n            .catch(err => console.log(err))\r\n        } else {\r\n            clearData().then(() => navigation.reset({\r\n                index: 0,\r\n                routes: [{name: 'Login'}],\r\n              }))\r\n        }\r\n        \r\n    })\r\n    \r\n\r\n    let [fontsLoaded] = useFonts({\r\n        Kanit_400Regular,\r\n        Kanit_200ExtraLight,\r\n        Kanit_700Bold\r\n      });\r\n    \r\n      if (!fontsLoaded) {\r\n        return null;\r\n      }\r\n\r\n      const logar = () => {\r\n        if (username.length > 0 && password.length > 0) {\r\n            const options = {\r\n                method: 'POST',\r\n                headers: {'Content-Type': 'application/json'},\r\n                body: `{\"nome\":\"${username}\",\"senha\":\"${password}\"}`\r\n            };\r\n            \r\n            fetch('http://localhost:3000/offside/usuarios/validar', options)\r\n                .then(response => response.json())\r\n                .then(response => {\r\n                    if (response.validation) {\r\n                        storeData(response).then(\r\n                            getData().then((val) => console.log(val))\r\n                        )\r\n                    }else{\r\n                        setErrOn(true)\r\n                    }\r\n                })\r\n                .catch(err => console.error(err));\r\n        }\r\n        \r\n    }\r\n    \r\n    return (\r\n      <View style={styles.container}>\r\n        <View style={{width: '100%'}}>\r\n            <TouchableOpacity>\r\n                <Ionicons name=\"md-checkmark-circle\" size={32} color={colors.darkGray} />\r\n                <Text>Filtrar</Text>\r\n            </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    'container': {\r\n        flex: 1,\r\n        alignItems: 'center',\r\n        backgroundColor: colors.gray,\r\n        padding: 50\r\n    },\r\n    'login': {\r\n        display: 'flex',\r\n        alignContent: 'center',\r\n        backgroundColor: colors.darkGray,\r\n        width: '100%',\r\n        padding: 25\r\n    },\r\n    'input':{\r\n        padding: 10,\r\n        color: '#ffffff',\r\n        width: '100%',\r\n        borderColor: colors.white,\r\n        borderWidth: 1,\r\n        borderStyle: 'solid',\r\n        marginBottom: 10,\r\n        fontFamily: 'Kanit_400Regular'\r\n    },\r\n    'cta':{\r\n        padding: 10,\r\n        width: \"100%\",\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignContent: 'center',\r\n        borderColor: colors.white,\r\n        borderWidth: 1,\r\n        marginTop: 25\r\n    },\r\n    'white':{\r\n        color: '#ffffff'\r\n    },\r\n    'font': {\r\n        fontFamily: 'Kanit_400Regular'\r\n    }\r\n})"],"mappings":"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"},"metadata":{},"sourceType":"module"}